<!DOCTYPE html>
<html>
    <head>
        <title> FACTURA VENTA </title>
        <!---   <link rel="icon" type="image/png" href="../../../favicon.png" /> --->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="../../../css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="../../../css/estilos.css" rel="stylesheet" type="text/css"/>
    </head>
    <body background="../../../img/fondo_3.jpg" style="background-size: 100%">


    <center>   <div id="panelCaja" class="panel primary-bordo" style="background-color: #d5d5d5;width: 60%; margin-top: 5%">
            <div class="panel-heading centrado">Caja<span id="susuario_usuario"></span></div>
            <div class="panel-body">
                <form id="formPrograma">

                    <div class="row">
                        <div class="col-md-1">
                            <span>Id</span>
                        </div>
                        <div class="col-md-2">
                            <input id="sid_usuario" name="sid_usuario" type="text" class="fcontrolbordo 
                                   input-sm" placeholder="id" readonly="readonly">                         
                        </div>
                        <div class="col-md-1">
                            <span> Cajero </span>
                        </div>
                        <div class="col-md-3">
                            <input id="snombre_usuario" name="snombre_usuario" type="text" class="fcontrolbordo 
                                   input-sm" placeholder="Cajero" readonly="readonly">                         
                        </div>

                    </div>

                    <hr>
                    <div class="row">
                        <div class="col-md-1">
                            <span>Id</span>
                        </div>
                        <div class="col-md-2">
                            <input id="id_caja" name="id_caja" type="text"
                                   class="fcontrolbordo imput-sm" placeholder="Id" readonly="readonly">
                        </div>

                    </div>

                    <br>
                    <div class="row">
                        <div class="col-md-1">
                            <span>Fecha</span>
                        </div>
                        <div class="col-md-3">
                            <input id="fecha_apertura" name="fecha_apertura" type="date" class="fcontrolbordo 
                                   input-sm" readonly="readonly">                         
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-1">
                            <span>Monto</span>
                        </div>
                        <div class="col-md-3">
                            <input id="monto_inicial" name="monto_inicial" type="text" class="fcontrolbordo 
                                   input-sm" onkeypress="return soloNumeros(event)" onkeyup="formatearNumero(this, this.value.charAt(this.value.length - 1))">                         
                        </div>
                        <div class="col-md-1">
                            <button id="botonAgregarCaja" type="button" class="btn bordo bordo1 btn-lg"><span><img src="../../../img/abrir.png" alt=""/></span></button>

                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-1">
                            <span>Estado</span>
                        </div>
                        <div class="col-md-3">
                            <input id="estado_caja" name="estado_caja" type="text" class="fcontrolbordo 
                                   input-sm"  readonly="readonly">                         
                        </div>
                    </div>
                    <br>
                </form>
                <div id="detalle" hidden="" style="width: 85%">
                    <div class="centrado">Cobros realizados</div>
                    <table class="table table-bordered table-striped table-hover">
                        <thead>
                            <tr>

                                <th>venta</th>
                                <th>factura</th>
                                <th>Forma de Pago</th>
                                <th>importe</th>
                                <th class="centrado"><button onclick="agregarLinea()" type="button" class="btn bordo bordo1 btn-sm"><span class="glyphicon glyphicon-plus"></span></button></th>
                            </tr>
                        </thead>
                        <tbody id="contenidoDetalle">
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="panel-footer centrado">
                <button id="botonSalircaja" type="button" class="btn bordo bordo1 btn-sm">Salir <span class="glyphicon glyphicon-home"></span></button>
            </div>
        </div></center>


    <!--##############################################################################################-->



    <div id="parafondo" class="parafondooscurito">
        <div id="buscar" style="width: 200px"></div>
    </div>
    <center>
        <div id="confirmar"></div>

        <div id="panelLinea" class="panel primary-bordo" style="background-color: #e7e7e7;width: 70%; margin-top: 2%" >
            <div class="panel-heading centrado">Descripcion del Pedido</div>

        </div>
    </center>
    <center>  <div id="panelPrograma" style="background-color: #e7e7e7;width: 70%; margin-top: 2%">
            <div id="panelDiseño" class="panel primary-bordo">
                <div class="panel-heading centrado">Descripcion del Pedido</div>
                <div class="panel-body">
                    <form id="formProgramas">

                        <br>
                        <div class="row">
                            <div class="col-md-2">
                                <span> Pedido N° </span>
                            </div>
                            <div class="col-md-2">
                                <input id="id_pedidocliente" name="id_pedidocliente" type="text" class="fcontrolbordo input-sm" placeholder="Id" onKeyPress="return soloNumeros(event)">
                            </div>

                            <div class="col-md-4" style="position: absolute;left: 50%">
                                <span><img src="../../../img/cajaproducts.png" alt=""/></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <span> Fecha</span>
                            </div>
                            <div class="col-md-3">
                                <input id="fecha_pedidov" name="fecha_pedidov" type="date" class="fcontrolbordo 
                                       input-sm" readonly="readonly">                         
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <span> Estado</span>
                            </div>
                            <div class="col-md-3">
                                <input id="estado_pedidov" name="estado_pedidov" type="text" class="fcontrolbordo input-sm" placeholder="Estado"      disabled="disabled" onKeyPress="return soloNumeros(event)">                                    
                            </div>
                        </div>
                        <!--  <div style="font-size: 20px;text-align: center"><b>DETALLE AJUSTES</b></div> -->
                    </form>
                    <div id="detalles" hidden="">
                        <table class="table table-bordered table-striped table-hover">
                            <thead>
                                <tr>
                                    <th><center>Pedido N°</center></th>
                            <th><center>Producto N°</center></th>
                            <th><center>Producto</center></th>
                            <th><center>Cantidad</center></th>
                            </tr>
                            </thead>
                            <tbody id="contenidoDetalles">
                            </tbody>
                        </table>
                        <br>
                    </div>
                </div>
                <div class="panel-footer centrado">
                    <button id="botonFacturar" type="button" class="btn bordo bordo1 btn-sm">Facturar <span class="glyphicon glyphicon-paste"></span></button>
                    <button id="botonCerrarCaja" type="button" class="btn bordo bordo1 btn-sm" data-toggle="modal" data-target="#cerrarcaja">Salir/Cerrar Caja <span class="glyphicon glyphicon-off"></span></button>    </div>
            </div>

        </div>


        <!-- aca empiezan factura cabezera ######################################################################## -->

        <div id="FormPrograma" class="panel primary-bordo">
            <div class="panel-heading centrado">Ventas <span id="susuario_usuario"></span></div>
            <div class="panel-body" style="background-color: #e7e7e7">
                <form id="formProgramaLinea">
                    <div class="row">
                        <div class="col-md-1">
                            <span>Cod</span>
                        </div>
                        <div class="col-md-1">
                            <input id="sid_usuarios" name="sid_usuarios" type="text"
                                   class="fcontrolbordo imput-sm" placeholder="id" readonly="readonly">
                        </div>

                        <div class="col-md-1">
                            <span>Empleado</span>
                        </div>
                        <div class="col-md-2">
                            <input id="snombre_usuarios" name="snombre_usuarios" type="text" class="fcontrolbordo input-sm" placeholder="empleado" readonly="readonly">
                        </div>
                        <div class="col-md-7">   
                        </div>
                    </div>
                    <br>
                    <br>
                    <br>
                    <div class="row">

                        <div class="col-md-1">
                            <span>N° Pedido</span>
                        </div>
                        <div class="col-md-1">
                            <input id="numero_venta" name="numero_venta" type="text" class="fcontrolbordo input-sm derecha" placeholder="n°factura" readonly="readonly">
                        </div>

                        <div class="col-md-4">   
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-1">
                            <span>Id</span>
                        </div>
                        <div class="col-md-1">
                            <input id="id_venta" name="id_venta" type="text" class="fcontrolbordo input-sm" placeholder="Id" onkeypress="return numeros(event)" readonly="readonly">
                        </div>
                        <div class="col-md-1">
                            <span>Fecha Venta</span>
                        </div>
                        <div class="col-md-2">
                            <input id="fecha_venta" name="fecha_venta" type="Date" class="fcontrolbordo input-sm centrado" readonly="readonly">
                        </div>
                        <div class="col-md-1">
                            <span>Condicion</span>
                        </div>
                        <div class="col-md-2">
                            <input id="condicion_venta" name="condicion_venta" type="text" class="fcontrolbordo input-sm centrado" placeholder="condicion" readonly="readonly">
                        </div>
                        <div class="col-md-4">   
                        </div>
                        <div class="col-md-1">
                            <span>Estado</span>
                        </div>
                        <div class="col-md-2">
                            <input id="estado_venta" name="estado_venta" type="text" class="fcontrolbordo input-sm centrado" placeholder="estado venta" readonly="readonly">
                        </div>
                    </div>
                    <br>
                    <div class="row">

                    </div>
                    <div class="row">

                    </div>
                    <div class="panelcliente">
                        <div class="row">
                            <div class="col-md-1">
                                <span>Cliente</span>
                            </div>
                            <div class="col-md-1">
                                <input id="id_persona" name="id_persona" type="text" class="fcontrolbordo input-sm" placeholder="Id">
                            </div>
                            <div class="col-md-1">
                                <button id="botonBuscarIdCliente" type="button" class="btn bordo bordo1 btn-sm">Sin Nombre</button>
                            </div>
                            <div class="col-md-1">
                                <span>Nombre</span>
                            </div>
                            <div class="col-md-3">
                                <input id="nombre_persona" name="nombre_persona" type="text" class="fcontrolbordo input-sm" placeholder="Nombre Cliente" disabled="disabled">
                            </div>

                            <div class="col-md-1">
                                <span>Ruc</span>
                            </div>
                            <div class="col-md-2">
                                <input id="ruc_persona" name="ruc_persona" type="text" class="fcontrolbordo input-sm" placeholder="N° Ruc" disabled="disabled">
                            </div>
                        </div>
                    </div>
                    <br>

                    <br>
                    <div class="row">


                    </div>

                    <div id="detallep" hidden="">
                        <table class="table table-bordered table-striped table-hover">
                            <thead>
                                <tr>
                                    <th class="centrado colortabla">Id</th>
                                    <th class="centrado colortabla">Producto</th>
                                    <th class="centrado colortabla">Descripcion</th>
                                    <th class="centrado colortabla">Codigo</th>
                                    <th class="centrado colortabla">Precio Unitario</th>
                                    <th class="centrado colortabla">Cantidad</th>
                                    <th class="centrado colortabla">Sub Total</th>

                                </tr>
                            </thead>
                            <tbody id="contenidoDetallep">
                            </tbody>
                        </table>
                    </div>

                    <!--     <div id="detallep" hidden="">
                        <table class="table table-bordered table-striped table-hover">
                            <thead>
                                <tr>
                                    <th><center>Pedido N°</center></th>
                            <th><center>Producto N°</center></th>
                            <th><center>Producto</center></th>
                            <th><center>Cantidad</center></th>
                            <th class="centrado"><button onclick="agregarLineas()" type="button" class="btn bordo bordo1 btn-sm"><span class="glyphicon glyphicon-plus"></span></button></th>
                            </tr>
                            </thead>
                            <tbody id="contenidoDetallep">
                            </tbody>
                        </table>
                        <br>
                    </div> -->
                </form>
            </div>
            <div class="panel-footer centrado">
                <button id="botonAnular" type="button" class="btn bordo bordo1 btn-sm" data-toggle="modal" data-target="#Anular"><span class="glyphicon glyphicon-ok-sign"></span> Anular</button>
                <!--<button id="botonCobrar" type="button" class="btn bordo bordo1 btn-sm"><span class="glyphicon glyphicon-credit-card"></span> Cobrar</button>-->
                <button id="botonCobrar" type="button" class="btn bordo bordo1 btn-sm" data-toggle="modal" data-target="#modalCobrar"><span class="glyphicon glyphicon-credit-card"></span> Cobrar</button>
                <button id="botonCancelar" type="button" class="btn bordo bordo1 btn-sm"><span class="glyphicon glyphicon-log-out"></span> Cancelar</button>
            </div>
        </div>
    </center>
    <!--################################################################################################-->
    <div id="mensajes" class="well well-sm centrado">Mensajes del Sistema.</div>
    <div class="modal fade" id="confirmarEliminar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header  centrado">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Mensaje del Sistema</h4>
                </div>
                <div class="modal-body">
                    Está seguro de eliminar estos datos?
                </div>
                <div class="modal-footer centrado">
                    <button id="botonEliminarAlert" type="button" class="btn bordo bordo1 btn-sm">Eliminar <span class="glyphicon glyphicon-trash"></span></button>
                    <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancelar <span class="glyphicon glyphicon-share"></span></button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="confirmarpago" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header  centrado">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabelLinea">Mensaje del Sistema</h4>
                </div>
                <div id="co" class="modal-body centrado">
                    Confirmar Cobro de la Factura
                </div>
                <div class="modal-body centrado oculto" id="facturarsin">
                    ¿ Facturar sin nombre ?
                </div>
                <div class="modal-footer centrado">
                    <button id="botonSino" type="button" class="btn bordo bordo1 btn-sm oculto">Sin nombre <span class="glyphicon glyphicon-user"></span></button>
                    <button id="botonCobrarmoda" type="button" class="btn bordo bordo1 btn-sm" onclick="impri()">Cobrar <span class="glyphicon glyphicon-credit-card"></span></button>
                    <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancelar <span class="glyphicon glyphicon-share"></span></button>
                </div>
            </div>
        </div>
    </div>  


    <div class="modal fade" id="Anular" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header  centrado">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabelLinea">Mensaje del Sistema</h4>
                </div>
                <div class="modal-body centrado" id="ok1">
                    ¿¿ Desea Anular La Factura ??
                </div>
                <div class="modal-body centrado oculto" id="ok">
                    <h3>Factura Anulada</h3>
                </div>
                <div class="modal-footer centrado" id="ok2">
                    <button id="botonCobrarmodal" type="button" class="btn bordo bordo1 btn-sm" onclick="ModificarAnular()">Anular Factura <span class="glyphicon glyphicon-exclamation-sign"></span></button>
                    <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancelar <span class="glyphicon glyphicon-share"></span></button>
                </div>
            </div>
        </div>
    </div>  

    <div class="modal fade" id="cerrarcaja" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header  centrado">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabelLinea">Mensaje del Sistema</h4>
                </div>
                <div class="modal-body centrado">
                    Desea Salir y Cerrar Caja ?
                </div>
                <div class="modal-footer centrado">
                    <button id="botonCierra" type="button" class="btn bordo bordo1 btn-sm">Cerrar <span class="glyphicon glyphicon-alert"></span></button>
                    <button id="botonSali" type="button" class="btn bordo bordo1 btn-sm">Regresar <span class="glyphicon glyphicon-home"></span></button>

                    <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancelar <span class="glyphicon glyphicon-share"></span></button>
                </div>
            </div>
        </div>
    </div>  



    <div class="parafondooscurito" data-backdrop="static" id="modalCobrar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="posiciodemioscurito milg">
            <div class="modal-content">

                <div id="panelDetalleCaja" class="panel primary-bordo">
                    <div class="panel-heading centrado">Cobros</div>
                    <div class="panel-body">
                        <form id="formLinea">
                            <div class="row">
                                <div class="col-md-1">
                                    <span>Venta</span>
                                </div>
                                <div class="col-md-2">
                                    <input id="id_ventap" name="id_ventap" type="text" class="fcontrolbordo input-sm" placeholder="Id">
                                </div>
                                <div class="col-md-2">
                                    <span> Factura Nº</span>
                                </div>
                                <div class="col-md-2">
                                    <input id="numero_ventap" name="numero_ventap" type="text" class="fcontrolbordo input-sm" placeholder="nºfactura" readonly="readonly">
                                </div>
                                <div class="col-md-2">
                                    <span> Total a Pagar</span>
                                </div>
                                <div class="col-md-3">
                                    <input id="total" name="total" type="text" class="fcontrolbordo input-sm" placeholder="total" readonly="readonly">
                                </div>
                            </div> 

                            <div class="row oculto">
                                <div class="col-md-1">
                                    <span>Id</span>
                                </div>
                                <div class="col-md-1">
                                    <input id="id_pago" name="id_pago" type="text" class="fcontrolbordo input-sm" value="1" placeholder="Id">
                                </div>

                                <div class="col-md-1">
                                    <span>Forma de Pago</span>
                                </div>
                                <div class="col-md-2">
                                    <input id="forma_pago" name="forma_pago" type="text" class="fcontrolbordo input-sm" value="efectivo" placeholder="pago">
                                </div>

                            </div>
                            <hr>
                            <div class="row">  
                                <div class="col-md-2">
                                </div>
                                <div class="col-md-1">
                                    <span> Importe</span>
                                </div>
                                <div class="col-md-3">
                                    <input id="importe_caja" name="importe_caja" type="text" class="fcontrolbordo input-sm" placeholder="importe" onkeypress="return soloNumeros(event)">
                                </div>

                                <div class="col-md-1">
                                    <span> Vuelto</span>
                                </div>
                                <div class="col-md-3">
                                    <input id="vuelto" name="vuelto" type="text" class="fcontrolbordo input-sm" placeholder="vuelto" onkeypress="return soloNumeros(event)" style="" readonly="readonly">
                                </div>


                                <div class="row oculto">
                                    <div class="col-md-1">
                                        <span> liqiva</span>
                                    </div>
                                    <div class="col-md-3">
                                        <input id="liqiva" name="liqiva" type="text" class="fcontrolbordo input-sm" placeholder="vuelto" onkeypress="return soloNumeros(event)" style="" readonly="readonly">
                                    </div>
                                </div> 
                            </div>

                        </form>
                    </div>
                    <div class="panel-footer centrado">
                        <!--<button id="botonPagar" type="button" class="btn bordo bordo1 btn-sm">Confirmar Pago</button>-->
                        <button id="botonPagar" type="button" class="btn bordo bordo1 btn-sm" data-toggle="modal" data-target="#confirmarpago">Confirmar Pago <span class="glyphicon glyphicon-print"></span></button>

                        <!--button id="botonEliminarLinea" type="button" class="btn bordo bordo1 btn-sm" data-toggle="modal" data-target="#confirmarEliminarLinea">Eliminar</button-->
                        <button id="botonSalirLinea" type="button" class="btn bordo bordo1 btn-sm" data-dismiss="modal">Salir <span class="glyphicon glyphicon-share"></span></button>

                    </div>
                </div>


            </div>
        </div>

    </div>  





    <script src="../../../js/jquery.min.js" type="text/javascript"></script>
    <script src="../../../js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../../../js/funciones.js" type="text/javascript"></script>
    <script src="js/funciones.js" type="text/javascript"></script>
    <script>
                                            verificarSesion(true);
                                            setTimeout('buscarIdCajas()', 1000);
                                            // $("#panelDetalleCaja").css("display", "none"); // pertenece al cobro
                                            $("#panelPrograma").css("display", "none"); // pertenece a la cabezera caja
                                            $("#buscar").css("display", "none");
                                            $("#panelLinea").css("display", "none");
                                            $("#FormPrograma").css("display", "none"); // pertenece a la cabezara factura
                                            $("#id_pedidocliente").focus();
                                            $("#botonPagar").prop('disabled', true);
                                            //buscarIdPedidoCliente();
                                            //siguienteCampo("#id_ajuste", "#id_proveedor", false);

                                            //siguienteCampo("#id_producto", "#cantidad_productoajuste", false);

                                            if ($("#id_pedidocliente").val() === "0") {
                                                // siguienteCampo("#id_proveedor", "#botonAgregar", false);
                                            } else {

                                                // siguienteCampo("#id_proveedor", "#botonModificar", false);
                                            }

                                            //   buscarIdUsuarioClave();

                                            $("#id_pedidocliente").focusout(function (event) {
                                                if ($("#id_pedidocliente").val() === "") {
                                                    $("#id_pedidocliente").val("0");
                                                }
                                                buscarIdPedidoCliente();
                                                $("#id_pedidocliente").val("0");
                                            });
                                            $("#id_producto").focusout(function (event) {
                                                if ($("#id_producto").val() === "") {
                                                    $("#id_producto").val("0");
                                                }
                                                buscarIdProducto();
                                            });
                                            $("#botonBuscarIdPedidoCliente").on('click', function () {
                                                $("#buscar").load("buscar.html");
                                                $("#buscar").fadeIn("slow");
                                                $("#panelPrograma").fadeOut("slow");
                                            });

                                            $("#botonPagar").on('click', function () {
                                                modificartota();
                                            });
                                            /*         $("#botonBuscarIdProveedor").on('click', function () {
                                             $("#buscar").load("buscarProveedores.html");
                                             $("#buscar").fadeIn("slow");
                                             $("#panelPrograma").fadeOut("slow");
                                             });*/

                                            /*    $("#botonBuscarIdUsuario").on('click', function () {
                                             $("#buscar").load("buscarUsuarios.html");
                                             $("#buscar").fadeIn("slow");
                                             $("#panelPrograma").fadeOut("slow");
                                             });*/
                                            $("#botonBuscarIdProducto").on('click', function () {
                                                $("#buscar").load("buscarProducto.html");
                                                $("#buscar").fadeIn("slow");
                                                $("#panelLinea").fadeOut("slow");
                                            });


                                            $("#botonBuscarIdCliente").on('click', function () {
                                                //  alert("sin nombre");
                                                AgregarSin();
                                            });

                                            $("#botonSino").on('click', function () {
                                                //  alert("sin nombre");
                                                AgregarSin2();
                                            });

                                            /*$("#botonCierra").on('click', function () {
                                             miventana = window.open("../../Procesos/cajas/index.html", "tete", "width=900,left=200, top= 300");
                                             miventana.resizeTo(1100, 400);
                                             });*/

                                            $("#id_persona").focusout(function (event) {
                                                if ($("#id_persona").val() !== "") {
                                                    buscarIdPersona();
                                                }

                                            });

                                            $("#cantidad_detallepedidoc").focusout(function (event) {
                                                if ($("#cantidad_detallepedidoc").val() !== "" && $("#precioventa_producto").val() !== "") {
                                                    pretotal(this);
                                                }
                                            });

                                            $("#cierraRe").on('click', function () {
                                                cerrarRe();
                                            });


                                            $("#botonModificar").on('click', function () {

                                                modificarPedidoCliente();

                                            });
                                            $("#botonEliminarAlert").on('click', function () {
                                                $('#confirmarEliminar').modal('hide');
                                                eliminarPedido();
                                            });
                                            $("#botonSalircaja").on('click', function () {
                                                location.href = "../../../menu.html";
                                            });

                                            $("#botonSali").on('click', function () {
                                                location.href = "../../../menu.html";
                                            });

                                            $("#botonFacturar").on('click', function () {
                                                confirfacturar();
                                            });

                                            $("#botonAgregaLinea").on('click', function () {
                                                if (validarFormularioPedidoCliente()) {
                                                    AgregarPedidoDetalle();
                                                }
                                            });


                                            /*$("#botonAnular").on('click', function () {
                                             ModificarAnular();
                                             
                                             });*/

                                            $("#botonModificarLinea").on('click', function () {
                                                modificarPedidoDetalle();
                                            });

                                            $("#botonCobrarmoda").on('click', function () {
                                                aler("FC");
                                                //  if (validarFormulariope()) {
                                                ModificarCobrados();
                                                //  }
                                            });

                                            $("#botonCobrarmodal").on('click', function () {
                                                agregarCajaDetalle();
                                            });

                                            $("#botonSalirLinea").on('click', function () {
                                                $("#parafondo").fadeOut("slow");
                                                $("#FormPrograma").fadeIn("slow");
                                            });

                                            $("#botonCancelar").on('click', function () {
                                                $("#panelPrograma").fadeIn("slow");
                                                $("#FormPrograma").fadeOut("slow");
                                                $("#id_pedidocliente").val("0");
                                                buscarIdPedidoCliente();
                                            });
                                            //verificarSesion(true);
                                            $("#desde_id").focus();
                                            //siguienteCampo("#desde_id", "#hasta_id", false);
                                            $("#botonImprimir").on('click', function () {

                                                var d = $("#id_pedidocliente").val();

                                                var jsp = "jsp/tablas.jsp";
                                                window.open(jsp + "?d=" + d);
                                            });
                                            $("#botonSalir").on('click', function () {
                                                location.href = "../../../menu.html";
                                            });


                                            $("#id_caja").focusout(function (event) {
                                                if ($("#id_caja").val() === "") {
                                                    $("#id_caja").val("0");
                                                }
                                                buscarIdCajas();
                                                var id = $("#id_caja").val();
                                                $("#id_caja").val("0");
                                                //var img = "<img src='../../../img/pedidos/" + id + ".jpg' alt=''>";
                                                //$("#foto").html(img);
                                            });

                                            $("#botonCobrar").on('click', function () {
                                                cobro();
                                            });

                                            /*   $("#botonAgregarCaja").on('click', function () {
                                             $("#buscar").load("buscarPagos.html");
                                             $("#buscar").fadeIn("slow");
                                             $("#parafondo").fadeIn("slow");
                                             // $("#panelCaja").fadeOut("slow");
                                             $("#panelDetalleCaja").fadeOut("slow");
                                             $("#buscar").animate({opacity: "0.9", left: "+=50", width: "600", position: "absolute"}, 1000)
                                             //.animate({opacity: "0.4", top: "+=160", height: "20", width: "80", fontSize: '0.5em'})
                                             //.animate({opacity: "1", left: "0", width: "260"}, "slow")
                                             //.animate({top: "0", width: "500", fontSize: '1.2em'}, "fast")
                                             // .slideUp()
                                             //.slideDown(1800)
                                             return false;
                                             });*/

                                            $("#id_ventap").focusout(function (event) {
                                                if ($("#id_ventap").val() === "") {
                                                    $("#id_ventap").val("0");
                                                }
                                                buscarIdVentaC();
                                            });

                                            /*       $("#vuelto").focusout(function (event) {
                                             
                                             });*/

                                            $("#importe_caja").keyup(function (event) {

                                                //   $("#vuelto").val() !== "" || ($("#vuelto").val() !== 0) && ($("#total").val() !== "") || ($("#total").val() !== 0)
                                                vuelto(this);

                                            });
                                            /*  $("#botonAgregarCaja").on('click', function () {
                                             alert("jn");
                                             
                                             $("#buscar").load("buscarcaja.html");
                                             $("#buscar").fadeIn("slow");
                                             $("#panelPrograma").fadeOut("slow");
                                             $("#FormPrograma").fadeOut("slow");
                                             });*/

                                            $("#botonAgregarCaja").on('click', function () {
                                                if (validarFormulario()) {
                                                    abrirCaja();
                                                }

                                            });

                                            $("#botonCierra").on('click', function () {
                                                cerrarCaja();


                                            });

                                            /*  $("#botonAgregarCaja").on('click', function () {
                                             miventana = window.open("../../Procesos/cajas/index.html", "tete", "width=900,left=200, top= 300");
                                             miventana.resizeTo(1100, 400);
                                             });*/

                                            $("#id_persona").keypress(function (event) {
                                                var keycode = (event.keycode ? event.keycode : event.which);
                                                if (keycode == "13") {
                                                    $("#buscar").load("buscarPersona.html");
                                                    $("#buscar").fadeIn("slow");
                                                    $("#parafondo").fadeIn("slow");
                                                    $("#panelPrograma").fadeOut("slow");
                                                    $("#FormPrograma").fadeIn("slow");
                                                    $("#buscar").animate({opacity: "0.9", left: "+=50", width: "800", position: "absolute"}, 1900)
                                                    //.animate({opacity: "0.4", top: "+=160", height: "20", width: "80", fontSize: '0.5em'})
                                                    //.animate({opacity: "1", left: "0", width: "260"}, "slow")
                                                    //.animate({top: "0", width: "500", fontSize: '1.2em'}, "fast")
                                                    // .slideUp()
                                                    //.slideDown(1800)
                                                    return false;
                                                }
                                            });

                                            function impri() {
                                                if (validarFormulariope()) {
                                                    agregarCajaDetalles();
                                                    var d = $("#id_venta").val();
                                                    var iva10 = $("#liqiva").val();
                                                    var totalpagar = $("#total").val();

                                                    var jsp = "jsp/tablas.jsp";
                                                    window.open(jsp + "?d=" + d + "&iva10=" + iva10 + "&totalpagar=" + totalpagar);

                                                }
                                            }
                                            ;



                                            $("#abrircajaa").on('click', function () {
                                                //  $("#modadecajaotro").show();
                                                $("#abrircajaa").load("../cajas/index.html");
                                                $("#abrircajaa").css("position", "absolute");
                                                $("#abrircajaa").css("left", "0%");
                                                $("#abrircajaa").css("z-index", "1");
                                                $("#abrircajaa").css("width", "100%");
                                                $("#abrircajaa").css("background-color", "rgba(0,0,0,0.4)");
                                                $("#abrircajaa").css("height", "100%");
                                                $("#abrircajaa").css("top", "0%");
                                            });

                                            //Mostrar bloque
                                            $("#c2").click(function () {
                                                $("#cont1").show("slow");
                                            });

//Ocultar / Mostrar bloque
                                            $("#c1b").click(function () {
                                                $("#cont1").toggle(1500);
                                            }, function () {
                                                $("#cont1").toggle(1500);
                                            });

//Cambiar tamaÃ±o
                                            $("#c3").click(function () {
                                                $("#cont1").animate({fontSize: '2.4em', width: 400, padding: 24}, 2500);
                                            });

//Ocultar con FadeOut
                                            $("#c4").click(function () {
                                                $("#cont1").fadeToggle(3000);
                                            });

//Mostrar con FadeIn
                                            $("#c5").click(function () {
                                                $("#cont1").fadeIn(3000);
                                            });
//Mover
                                            $("#c6").click(function () {

                                                $("#cont1").animate({opacity: "0.1", left: "+=400", fontSize: '1em', width: "200"}, 1200)
                                                        .animate({opacity: "0.4", top: "+=160", height: "20", width: "80", fontSize: '0.5em'}, "slow")
                                                        .animate({opacity: "1", left: "0", width: "260"}, "slow")
                                                        .animate({top: "0", width: "260", fontSize: '1.2em'}, "fast")
                                                        .slideUp()
                                                        .slideDown(1800)
                                                return false;

                                            });
//Cambiar estilo CSS
                                            $("#c7").click(function () {
                                                $("#cont1").css({'border': '4px solid #b7e5ff', 'color': '#cc3333', 'font-weight': 'bold', 'background-color': '#ffffff'});
                                            });

//Toca para ocultarme
                                            $("#cont2").click(function () {
                                                $(this).hide().delay(1500).show(1500);
                                            });

//Fondo amarillo
                                            $(".yellow").hover(
                                                    function () {
                                                        $(this).addClass("hover");
                                                    },
                                                    function () {
                                                        $(this).removeClass("hover");
                                                    }
                                            );

//Contador de caracteres
                                            $('textarea').keyup(updateCount);
                                            $('textarea').keydown(updateCount);
                                            function updateCount() {
                                                var cs = $(this).val().length;
                                                $('#characters').text(cs);
                                            }


//Ocultar
                                            $("#c9").click(function () {
                                                $("#noticias").hide(1500);
                                            });



//Version de JQuery
                                            $("#c11").click(function () {
                                                var version = $().jquery;
                                                alert("Estas usando la versiÃ³n: " + version + " de JQuery");
                                            });
    </script>
</body>
<script 
</html>